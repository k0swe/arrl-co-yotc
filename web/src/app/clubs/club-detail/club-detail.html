<div class="club-detail-container">
  @if (loading()) {
    <div class="loading-container" role="status" aria-live="polite">
      <mat-spinner></mat-spinner>
      <p>Loading club...</p>
    </div>
  } @else if (error()) {
    <div class="error-container" role="alert">
      <mat-icon class="error-icon">error</mat-icon>
      <h2>{{ error() }}</h2>
    </div>
  } @else if (club(); as clubData) {
    <app-club-card [club]="clubData">
      @if (canEdit()) {
        <div card-actions>
          <button
            mat-raised-button
            color="primary"
            (click)="openEditDialog()"
            aria-label="Edit club details"
          >
            <mat-icon>edit</mat-icon>
            Edit Club
          </button>
        </div>
      }
    </app-club-card>

    @if (canViewMembers()) {
      <app-members [clubId]="clubData.id" [clubLeaderIds]="clubData.leaderIds" />
    }

    <app-event-list [clubId]="clubData.id" [canEdit]="canEdit()" />
  }
</div>
