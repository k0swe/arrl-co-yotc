<div class="admin-container">
  <header class="admin-header">
    <h1>Admin Dashboard</h1>
    <p class="subtitle">Review and manage club suggestions</p>
  </header>

  <section class="pending-clubs-section">
    <h2>Pending Club Suggestions</h2>

    @if (loading()) {
      <div class="loading-container" role="status" aria-live="polite">
        <mat-spinner></mat-spinner>
        <p>Loading pending clubs...</p>
      </div>
    } @else if (pendingClubs().length === 0) {
      <div class="empty-state" role="status">
        <mat-icon class="empty-icon">check_circle</mat-icon>
        <h3>No Pending Suggestions</h3>
        <p>All club suggestions have been reviewed.</p>
      </div>
    } @else {
      <div class="clubs-grid">
        @for (club of pendingClubs(); track club.id) {
          <app-club-card [club]="club">
            <div card-content>
              @if (club.suggestedBy) {
                <div class="suggested-by">
                  <mat-icon>person</mat-icon>
                  <span>Suggested by: {{ getUserName(club.suggestedBy) }}</span>
                </div>
              }
              <div class="route-slug">
                <mat-icon>link</mat-icon>
                <span>Route slug: /clubs/{{ club.slug }}</span>
              </div>
            </div>

            <div card-actions class="action-buttons">
              <button
                mat-raised-button
                (click)="editClub(club)"
                [disabled]="isProcessing(club.id)"
                aria-label="Edit {{ club.name }}"
                class="action-button"
              >
                @if (!isProcessing(club.id)) {
                  <mat-icon>edit</mat-icon>
                }
                <span>Edit</span>
              </button>
              <button
                mat-raised-button
                color="primary"
                (click)="acceptClub(club)"
                [disabled]="isProcessing(club.id)"
                aria-label="Accept {{ club.name }}"
                class="action-button"
              >
                @if (isProcessing(club.id)) {
                  <mat-spinner diameter="20"></mat-spinner>
                }
                @if (!isProcessing(club.id)) {
                  <mat-icon>check_circle</mat-icon>
                }
                <span>{{ isProcessing(club.id) ? 'Processing...' : 'Accept' }}</span>
              </button>
              <button
                mat-raised-button
                color="warn"
                (click)="rejectClub(club)"
                [disabled]="isProcessing(club.id)"
                aria-label="Reject {{ club.name }}"
                class="action-button"
              >
                @if (isProcessing(club.id)) {
                  <mat-spinner diameter="20"></mat-spinner>
                }
                @if (!isProcessing(club.id)) {
                  <mat-icon>cancel</mat-icon>
                }
                <span>{{ isProcessing(club.id) ? 'Rejecting...' : 'Reject' }}</span>
              </button>
            </div>
          </app-club-card>
        }
      </div>
    }
  </section>
</div>
